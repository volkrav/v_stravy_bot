**Vasylevsky_Stravy-bot** – Telegram-бот для замовлення заморожених страв і напівфабрикатів з магазину [Василевські заморожені страви](https://vasylevsky-stravy.com.ua/)

Розроблений на Python3.10 з використанням:
- aiogram2
- sqlite3
- requests
- bs4
- python-dotenv
- environs

#### Структура бота та можливості:

- стартовий розділ
	- Меню - перехід до каталогу
	- Про нас, Контакти, Самовивіз, Доставка і оплата – інформаційні розділи, розповідають про магазин, власників, умови.
	- Особиста інформація – розділ, де покупець може переглянути, редагувати або видалити свої збережені особисті дані, а саме імʼя та адресу доставки.
- каталог з категоріями та картками товарів, реалізований у вигляді inline-клавіатури
- картки товарів: фото, опис, ціна, Додати до кошика.
- Каталог товарів наповнюється та оновлюється адміністратором бота за допомогою парсера сайту магазина командою /parser
- Кошик зберігається до моменту оформлення, очищення або перезавантаження бота
- Ваше замовлення – в цьому розділі замовлення можна переглянути, відредагувати (змінити кількість або видалити товари), очистити кошик, оформити замовлення.
- При оформленні замовлення реалізована можливість збереження особистих даних, а саме – імʼя та адреса доставки / самовивіз, які можна використовувати при наступних замовленнях.

#### Встановлення на прикладі сервера Ubuntu:

1. Оновити репозиторії та встановити свіжі версії пакетів

```bash
sudo apt update && sudo apt upgrade -y
```

2. Щоб встановити Python 3.10 на Ubuntu 20.04 за допомогою репозиторію, необхідно додати PPA-репозиторій від deadsnakes. Це дійсно спрощує встановлення Python на Ubuntu  та дозволяє отримувати постійні оновлення, виправлення помилок та оновлення безпеки.
	1. Встановимо необхідні залежності для додавання репозиторію.
	```bash
	sudo apt install software-properties-common -y
	```

	2. Тепер додамо PPA репозиторій від deadsnakes:
	```bash
	sudo add-apt-repository ppa:deadsnakes/ppa
	```

	3. Встановимо python3.10
	```bash
	sudo apt install python3.10
	```

	4. Встановимо менеджер пакетів Python (PIP)
	```bash
	sudo apt install python3-pip
```

	5. Встановимо pipenv
	```bash
	python -m pip install pipenv
```

3. Клонуємо репозиторій з github
```bash
clone https://github.com/volkrav/v_stravy_bot.git
```

4. Переходимо в директорію v_stravy_bot, створюємо директорію для віртуального оточення та активуємо його
```bash
cd v_stravy_bot
mkdir .venv
pipenv shell
```

5. Встановлюємо залежності
```bash
pipenv install
```

6. Заповнюємо файл .env-example та перейменуємо його в .env
7. Запускаємо бот
```bash
python3 bot.py
```

При першому запуску бот самостійно створить базу даних. Для заповнення товарами використати команду /parser з акаунту адміністратора бота або командою:
```bash
pyton3 startparser.py
```
